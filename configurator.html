<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Configure your bespoke timber sash window. Traditional craftsmanship meets modern precision.">

  <title>Configure Your Window - Sash Studio</title>

  <!-- Preconnect -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Fonts - Playfair Display + Inter -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- Supabase SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- Three.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="css/configurator.css">
</head>
<body>
  <div class="configurator-page">
    <!-- Header -->
    <header class="config-header">
      <div class="header-inner">
        <a href="index.html" class="logo">
          <span class="logo-sash">Sash</span>
          <span class="logo-studio">Studio</span>
        </a>
        <nav class="header-nav">
          <a href="index.html">Home</a>
          <a href="index.html#features">Features</a>
          <a href="index.html#gallery">Gallery</a>
          <a href="contact.html">Contact</a>
        </nav>
        <button class="btn-signin" id="loginBtn">Sign In</button>

        <button class="mobile-menu-toggle" aria-label="Menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </header>

    <!-- Page Title -->
    <section class="config-intro">
      <span class="intro-label">Bespoke Craftsmanship</span>
      <h1 class="intro-title">Configure Your Window</h1>
      <p class="intro-subtitle">Traditional sash windows, made to measure</p>
    </section>

    <!-- Main Configurator -->
    <main class="config-main">
      <!-- Left Options -->
      <aside class="config-options config-options-left">
        <!-- Dimensions -->
        <div class="option-card" id="size-card">
          <h3 class="option-label">Dimensions</h3>
          <div class="option-content">
            <div class="slider-group">
              <div class="slider-header">
                <label>Width</label>
                <span class="slider-value" id="widthValue">900mm</span>
              </div>
              <input type="range" min="400" max="1500" value="900" step="10" class="slider" id="widthSlider">
              <div class="slider-range">
                <span>400mm</span>
                <span>1500mm</span>
              </div>
            </div>
            <div class="slider-group">
              <div class="slider-header">
                <label>Height</label>
                <span class="slider-value" id="heightValue">1200mm</span>
              </div>
              <input type="range" min="600" max="2400" value="1200" step="10" class="slider" id="heightSlider">
              <div class="slider-range">
                <span>600mm</span>
                <span>2400mm</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Glazing Style -->
        <div class="option-card" id="style-card">
          <h3 class="option-label">Glazing Style</h3>
          <div class="style-grid">
            <button class="style-btn active" data-style="1over1">
              <svg viewBox="0 0 60 80" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="5" y="5" width="50" height="70" rx="2"/>
                <line x1="5" y1="40" x2="55" y2="40"/>
              </svg>
              <span>1 over 1</span>
            </button>
            <button class="style-btn" data-style="2over2">
              <svg viewBox="0 0 60 80" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="5" y="5" width="50" height="70" rx="2"/>
                <line x1="30" y1="5" x2="30" y2="40"/>
                <line x1="5" y1="40" x2="55" y2="40"/>
                <line x1="30" y1="40" x2="30" y2="75"/>
              </svg>
              <span>2 over 2</span>
            </button>
            <button class="style-btn" data-style="4over4">
              <svg viewBox="0 0 60 80" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="5" y="5" width="50" height="70" rx="2"/>
                <line x1="30" y1="5" x2="30" y2="40"/>
                <line x1="5" y1="22" x2="55" y2="22"/>
                <line x1="5" y1="40" x2="55" y2="40"/>
                <line x1="30" y1="40" x2="30" y2="75"/>
                <line x1="5" y1="58" x2="55" y2="58"/>
              </svg>
              <span>4 over 4</span>
            </button>
            <button class="style-btn" data-style="6over6">
              <svg viewBox="0 0 60 80" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="5" y="5" width="50" height="70" rx="2"/>
                <line x1="22" y1="5" x2="22" y2="40"/>
                <line x1="38" y1="5" x2="38" y2="40"/>
                <line x1="5" y1="17" x2="55" y2="17"/>
                <line x1="5" y1="29" x2="55" y2="29"/>
                <line x1="5" y1="40" x2="55" y2="40"/>
                <line x1="22" y1="40" x2="22" y2="75"/>
                <line x1="38" y1="40" x2="38" y2="75"/>
                <line x1="5" y1="52" x2="55" y2="52"/>
                <line x1="5" y1="64" x2="55" y2="64"/>
              </svg>
              <span>6 over 6</span>
            </button>
          </div>
        </div>

        <!-- Quantity -->
        <div class="option-card" id="quantity-card">
          <h3 class="option-label">Quantity</h3>
          <div class="quantity-control">
            <button class="qty-btn" id="qtyMinus" aria-label="Decrease">−</button>
            <span class="qty-value" id="qtyValue">1</span>
            <button class="qty-btn" id="qtyPlus" aria-label="Increase">+</button>
          </div>
          <p class="quantity-hint">Volume discounts apply for 6+ windows</p>
        </div>

        <!-- Opening Type -->
        <div class="option-card" id="opening-card">
          <h3 class="option-label">Opening</h3>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="opening" value="both" checked>
              <span class="radio-box"></span>
              <span class="radio-text">Both Sashes</span>
              <span class="radio-badge included">Standard</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="opening" value="bottom">
              <span class="radio-box"></span>
              <span class="radio-text">Bottom Only</span>
              <span class="radio-badge">-£30</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="opening" value="fixed">
              <span class="radio-box"></span>
              <span class="radio-text">Fixed</span>
              <span class="radio-badge">-£50</span>
            </label>
          </div>
        </div>
      </aside>

      <!-- Center - 3D Window -->
      <section class="config-preview">
        <div class="preview-container">
          <div id="window3d-container" class="window-3d"></div>
          <div class="preview-dimensions">
            <span id="dimensionDisplay">900 × 1200 mm</span>
          </div>
        </div>
      </section>

      <!-- Right Options -->
      <aside class="config-options config-options-right">
        <!-- Glass Type -->
        <div class="option-card" id="glass-card">
          <h3 class="option-label">Glass Type</h3>
          <div class="radio-group">
            <label class="radio-option" data-glass="double">
              <input type="radio" name="glass" value="double" checked>
              <span class="radio-box"></span>
              <span class="radio-text">Double Glazed</span>
              <span class="radio-badge included">Included</span>
            </label>
            <label class="radio-option" data-glass="triple">
              <input type="radio" name="glass" value="triple">
              <span class="radio-box"></span>
              <span class="radio-text">Triple Glazed</span>
              <span class="radio-badge">+£150</span>
            </label>
            <label class="radio-option" data-glass="passive">
              <input type="radio" name="glass" value="passive">
              <span class="radio-box"></span>
              <span class="radio-text">Passive House</span>
              <span class="radio-badge">+£250</span>
            </label>
          </div>
        </div>

        <!-- Frame Colour -->
        <div class="option-card" id="color-card">
          <h3 class="option-label">Frame Colour</h3>
          <div class="color-picker">
            <button class="color-swatch active" data-color="white" style="background: #FFFFFF" title="Pure White"></button>
            <button class="color-swatch" data-color="cream" style="background: #FFF8E7" title="Cream"></button>
            <button class="color-swatch" data-color="grey" style="background: #383E42" title="Anthracite Grey"></button>
            <button class="color-swatch" data-color="black" style="background: #1D1D1F" title="Black"></button>
            <button class="color-swatch" data-color="green" style="background: #2D5A3D" title="Heritage Green"></button>
            <button class="color-swatch" data-color="oak" style="background: linear-gradient(135deg, #D4A84B 0%, #8B6914 100%)" title="Natural Oak"></button>
          </div>
          <span class="color-name" id="colorName">Pure White</span>
        </div>

        <!-- Hardware Finish -->
        <div class="option-card" id="hardware-card">
          <h3 class="option-label">Hardware Finish</h3>
          <div class="hardware-grid">
            <button class="hardware-btn active" data-hardware="brass" title="Polished Brass">
              <span class="hardware-swatch brass"></span>
              <span class="hardware-name">Brass</span>
            </button>
            <button class="hardware-btn" data-hardware="chrome" title="Polished Chrome">
              <span class="hardware-swatch chrome"></span>
              <span class="hardware-name">Chrome</span>
            </button>
            <button class="hardware-btn" data-hardware="satin" title="Satin Chrome">
              <span class="hardware-swatch satin"></span>
              <span class="hardware-name">Satin</span>
            </button>
            <button class="hardware-btn" data-hardware="black" title="Matt Black">
              <span class="hardware-swatch black"></span>
              <span class="hardware-name">Black</span>
            </button>
            <button class="hardware-btn" data-hardware="bronze" title="Antique Bronze">
              <span class="hardware-swatch bronze"></span>
              <span class="hardware-name">Bronze</span>
            </button>
          </div>
        </div>

        <!-- Security & Options -->
        <div class="option-card" id="security-card">
          <h3 class="option-label">Security & Options</h3>
          <div class="toggle-group">
            <label class="toggle-option">
              <span class="toggle-text">PAS24 Security</span>
              <span class="toggle-price">Included</span>
              <div class="toggle-switch">
                <input type="checkbox" id="pas24Toggle" checked disabled>
                <span class="toggle-slider"></span>
              </div>
            </label>
            <label class="toggle-option">
              <span class="toggle-text">Laminated Glass</span>
              <span class="toggle-price">+£30/m²</span>
              <div class="toggle-switch">
                <input type="checkbox" id="laminatedToggle">
                <span class="toggle-slider"></span>
              </div>
            </label>
            <label class="toggle-option">
              <span class="toggle-text">Key Locks</span>
              <span class="toggle-price">+£40</span>
              <div class="toggle-switch">
                <input type="checkbox" id="keyLocksToggle">
                <span class="toggle-slider"></span>
              </div>
            </label>
          </div>
        </div>

        <!-- Glass Finish -->
        <div class="option-card" id="finish-card">
          <h3 class="option-label">Glass Finish</h3>
          <div class="finish-options">
            <button class="finish-btn active" data-finish="clear">
              <span class="finish-preview clear"></span>
              <span class="finish-name">Clear</span>
            </button>
            <button class="finish-btn" data-finish="frosted">
              <span class="finish-preview frosted"></span>
              <span class="finish-name">Frosted</span>
              <span class="finish-price">+£80</span>
            </button>
          </div>
        </div>
      </aside>
    </main>

    <!-- Sticky Pricing Bar -->
    <footer class="pricing-bar">
      <div class="pricing-inner">
        <div class="pricing-summary">
          <div class="summary-specs">
            <span class="spec-dimensions" id="specDimensions">900 × 1200mm</span>
            <span class="spec-divider">•</span>
            <span class="spec-style" id="specStyle">1 over 1</span>
            <span class="spec-divider">•</span>
            <span class="spec-color" id="specColor">White</span>
          </div>
          <div class="summary-breakdown">
            <span>Base: <span id="basePrice">£972</span></span>
            <span class="breakdown-divider">|</span>
            <span>Glass: <span id="glassPrice">£0</span></span>
            <span class="breakdown-divider">|</span>
            <span>Options: <span id="optionsPrice">£0</span></span>
          </div>
        </div>
        <div class="pricing-total">
          <span class="total-label">Total</span>
          <span class="total-price" id="totalPrice">£972</span>
          <span class="total-vat">ex. VAT</span>
        </div>
        <button class="btn-quote" id="getQuoteBtn">
          Get Quote
          <svg class="btn-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </button>
      </div>
    </footer>
  </div>

  <!-- Scripts -->
  <script src="js/supabase-config.js"></script>
  <script src="js/pricing.js"></script>
  <script src="js/window3d.js"></script>
  <script src="js/configurator.js"></script>
</body>
</html>
